# Story 2.9: Production Readiness & Deployment

**Epic:** Deployment & Infrastructure

## Status
Ready for Review

## Story
**As a** Developer,
**I want** to prepare the application for production deployment on Cloudflare,
**so that** users can access the modernized platform in a stable environment.

---

## Acceptance Criteria

1. **AC1:** Backend configuration (`wrangler.toml`) includes a production environment with correct URLs.
2. **AC2:** Frontend is configured for static export (`output: export`) to be hosted on Cloudflare Pages.
3. **AC3:** Environment variables for API URL are manageable for different environments.
4. **AC4:** Deployment instructions are documented for both frontend and backend.
5. **AC5:** All secrets are identified and ready to be set in the Cloudflare dashboard.

---

## Tasks / Subtasks

- [x] **Task 1: Configure Backend Production Env** (AC1)
  - [x] Update `backend/wrangler.toml` with `[env.production]`
  - [x] Set `REDIRECT_URI` and `FRONTEND_URL` for production

- [x] **Task 2: Configure Frontend for Pages** (AC2)
  - [x] Update `frontend/next.config.mjs` with `output: 'export'`
  - [x] Enable `unoptimized` images for static compatibility

- [x] **Task 3: Documentation of Deployment** (AC4, AC5)
  - [x] Update project documentation with deployment steps
  - [x] List required secrets for Cloudflare

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-05 | 1.0 | Initial story creation | Dev Agent |
| 2026-02-05 | 1.1 | Deployment configurations applied | Dev Agent |

---

## Dev Agent Record

### Agent Model Used
Gemini 2.0 Flash

### File List
- `backend/wrangler.toml` (updated)
- `frontend/next.config.mjs` (updated)
- `docs/stories/2.9.story.md`
